(this.webpackJsonptest_task=this.webpackJsonptest_task||[]).push([[0],{13:function(e,t,a){e.exports={SWLoader:"Loader_SWLoader__1_CTu",let1:"Loader_let1__2psWb",drop:"Loader_drop__2GY-E",let2:"Loader_let2__1wLgY",let3:"Loader_let3__2jcdz",let4:"Loader_let4__3CoUF",let5:"Loader_let5__3fDPT",let6:"Loader_let6__1pBkd",let7:"Loader_let7__3_P4a"}},33:function(e,t,a){e.exports={character:"Character_character__2__F0",choosed:"Character_choosed__PPgEL"}},43:function(e,t,a){e.exports={chars_block:"Pages_chars_block__35hdH"}},48:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(18),r=a.n(c),s=(a(48),a(66)),o=a(64),i=a(67),l=a(17),u=a(2),j=function(){return Object(u.jsx)(s.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(s.a.Brand,{href:"#home",children:Object(u.jsx)("img",{src:"./swlogo_min.png",alt:"STAR WARS"})}),Object(u.jsx)(s.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(u.jsx)(s.a.Collapse,{id:"responsive-navbar-nav",children:Object(u.jsxs)(i.a,{children:[Object(u.jsx)(l.b,{to:"/",className:"nav-link",children:"\u0421hoose heroes"}),Object(u.jsx)(l.b,{to:"/favorite",className:"nav-link",children:"Favorite heroes"})]})})]})})},h=a(7),d=a(16),b=a.n(d),p=a(20),x=a(19),O=a(39),f=a(40),v=function(){function e(){Object(O.a)(this,e),this._apiBase="https://swapi.dev/api/"}return Object(f.a)(e,[{key:"getResourse",value:function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase).concat(t));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHomeworld",value:function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllCharacters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.getResourse("people/?page=".concat(e))}},{key:"getCharacter",value:function(e){return this.getResourse("people/?search=".concat(e))}}]),e}(),_=a(34),g=a(65),m=a(68),k=a(33),N=a.n(k),w=a(41),C=a(42),L=function(e){var t=e.data,a=Object(n.useState)(t),c=Object(x.a)(a,2),r=c[0],s=c[1];Object(n.useEffect)((function(){}),[r]);var o=function(){s((function(e){return Object(_.a)(Object(_.a)({},e),{},{choosed:!e.choosed})}))};return Object(u.jsxs)(m.a,{className:N.a.character,children:[Object(u.jsx)(m.a.Img,{variant:"top",src:t.img,alt:t.name,className:"img-fluid"}),Object(u.jsxs)(m.a.Body,{children:[Object(u.jsx)(m.a.Title,{children:t.name}),Object(u.jsx)(m.a.Text,{}),Object(u.jsxs)(g.a,{block:!0,onClick:o,variant:"light",children:["Choose hero ",Object(u.jsx)(w.a,{className:r.choosed?N.a.choosed:"",icon:C.a})]})]})]})},P=a(43),S=a.n(P),y=a(13),F=a.n(y),T=function(e){return Object(u.jsx)("div",{className:F.a.SWLoader,children:Object(u.jsxs)("h1",{children:[Object(u.jsx)("span",{className:F.a.let1,children:"l"}),Object(u.jsx)("span",{className:F.a.let2,children:"o"}),Object(u.jsx)("span",{className:F.a.let3,children:"a"}),Object(u.jsx)("span",{className:F.a.let4,children:"d"}),Object(u.jsx)("span",{className:F.a.let5,children:"i"}),Object(u.jsx)("span",{className:F.a.let6,children:"n"}),Object(u.jsx)("span",{className:F.a.let7,children:"g"})]})})},B=function(){var e=new v,t=Object(n.useState)({current:1,nextPage:null,prevPage:null}),a=Object(x.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!0),i=Object(x.a)(s,2),l=i[0],j=i[1],h=Object(n.useState)([]),d=Object(x.a)(h,2),O=d[0],f=d[1],_=function(){var t=Object(p.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAllCharacters(a);case 2:return n=t.sent,r({current:a,nextPage:n.next,prevPage:n.previous}),f(m(n.results)),j(!1),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(e){return e.map((function(e){var t=e.url.match(/(\d+)/),a="https://starwars-visualguide.com/assets/img/characters/".concat(t[0],".jpg");return e.id=t[0],e.img=a,e.choosed=!1,e}))};Object(n.useEffect)((function(){_(c.current)}),[]);var k=function(e){j(!0),_(e),console.log(c)},N=function(){return Object(u.jsxs)("div",{className:"text-center mt-2 pb-3",children:[c.prevPage?Object(u.jsx)(g.a,{className:"mr-1",onClick:function(){return k(c.current-1)},variant:"light",children:"Prev"}):"",c.nextPage?Object(u.jsx)(g.a,{onClick:function(){return k(c.current+1)},variant:"light",children:"Next"}):""]})};return l?Object(u.jsx)(T,{}):Object(u.jsxs)(o.a,{className:"mt-4",children:[N(),Object(u.jsx)("div",{className:S.a.chars_block,children:O.map((function(e,t){return Object(u.jsx)(L,{data:e},t)}))}),N()]})},E=function(){return Object(u.jsx)("div",{children:"FavoriveHeroes"})};var A=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j,{}),Object(u.jsx)("main",{children:Object(u.jsxs)(h.c,{children:[Object(u.jsx)(h.a,{exact:!0,path:"/",children:Object(u.jsx)(B,{})}),Object(u.jsx)(h.a,{path:"/favorite",component:E})]})})]})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,69)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};a(61);r.a.render(Object(u.jsx)(l.a,{children:Object(u.jsx)(A,{})}),document.getElementById("root")),R()}},[[62,1,2]]]);
//# sourceMappingURL=main.b5d0375e.chunk.js.map