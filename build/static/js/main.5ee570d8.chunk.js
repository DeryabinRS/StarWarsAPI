(this.webpackJsonptest_task=this.webpackJsonptest_task||[]).push([[0],{26:function(e,t,n){e.exports={chars_block:"Pages_chars_block__2ZZMq"}},41:function(e,t,n){e.exports={choosed:"ChooseBtn_choosed__209ZO"}},48:function(e,t,n){e.exports={character:"Character_character__3FJcg"}},49:function(e,t,n){e.exports={spinner:"Loader_spinner__3VHDW","spinner-wiggle":"Loader_spinner-wiggle__2df0b","spinner-spin":"Loader_spinner-spin__1T0PP","spinner-fade":"Loader_spinner-fade__262G3"}},56:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(24),c=n.n(r),s=(n(56),n(73)),o=n(70),i=n(75),u=n(22),l=n(3),j=function(){return Object(l.jsx)(s.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(s.a.Brand,{href:"#home",children:Object(l.jsx)("img",{src:"./swlogo_min.png",alt:"STAR WARS"})}),Object(l.jsx)(s.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(l.jsx)(s.a.Collapse,{id:"responsive-navbar-nav",children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(u.b,{to:"/",className:"nav-link",children:"\u0421hoose heroes"}),Object(l.jsx)(u.b,{to:"/favorite",className:"nav-link",children:"Favorite heroes"})]})})]})})},h=n(7),d=n(11),b=n.n(d),f=n(17),p=n(51),O=n(14),x=n(46),v=n(47),g=function(){function e(){Object(x.a)(this,e),this._apiBase="https://swapi.dev/api/"}return Object(v.a)(e,[{key:"getResourse",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase).concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHomeworld",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllCharacters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.getResourse("people/?page=".concat(e))}},{key:"getCharacter",value:function(e){return this.getResourse("people/?search=".concat(e))}}]),e}(),m=n(76),k=n(48),C=n.n(k),_=n(71),w=n(19),N=n(20),S=n(41),y=n.n(S),P=function(e){var t=e.data,n=e.onChooseChar;return e.del?Object(l.jsxs)(_.a,{block:!0,onClick:function(){return n(t)},variant:"light",children:["Delete hero ",Object(l.jsx)(w.a,{className:t.choosed?y.a.choosed:"",icon:N.d})]}):Object(l.jsxs)(_.a,{block:!0,onClick:function(){return n(t)},variant:"light",children:["Choose hero ",Object(l.jsx)(w.a,{className:t.choosed?y.a.choosed:"",icon:N.b})]})},A=function(e){var t=e.data,n=e.onChooseChar,r=e.del,c=new g,s=Object(a.useState)(""),o=Object(O.a)(s,2),i=o[0],u=o[1],j=Object(a.useState)(!0),h=Object(O.a)(j,2),d=h[0],p=h[1];Object(a.useEffect)((function(){x(t.homeworld)}),[]);var x=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,c.getHomeworld(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(m.a,{className:C.a.character,children:[Object(l.jsx)(m.a.Img,{variant:"top",src:t.img,alt:t.name,className:"img-fluid",width:213,height:293}),Object(l.jsxs)(m.a.Body,{children:[Object(l.jsx)(m.a.Title,{children:t.name}),Object(l.jsxs)(m.a.Text,{children:[d?Object(l.jsxs)("span",{children:[Object(l.jsx)(w.a,{icon:N.a,spin:!0})," Loading"]}):Object(l.jsxs)("span",{children:[Object(l.jsx)(w.a,{icon:N.a})," ",i.name]}),Object(l.jsx)("br",{}),Object(l.jsx)(w.a,{icon:N.c})," ",t.gender]}),Object(l.jsx)(P,{data:t,onChooseChar:n,del:r})]})]})},E=n(26),B=n.n(E),I=n(74),J=n(50),F=n(49),L=n.n(F),T=function(e){return Object(l.jsx)("div",{className:L.a.spinner})},R=function(){var e=new g,t=Object(a.useState)({current:1,nextPage:null,prevPage:null}),n=Object(O.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!0),i=Object(O.a)(s,2),u=i[0],j=i[1],h=Object(a.useState)([]),d=Object(O.a)(h,2),x=d[0],v=d[1],m=Object(a.useState)(JSON.parse(localStorage.getItem("chars"))||[]),k=Object(O.a)(m,2),C=k[0],w=k[1];Object(a.useEffect)((function(){y(r.current)}),[]),Object(a.useEffect)((function(){localStorage.setItem("chars",JSON.stringify(C))}),[C]);var N=function(e){if(e.choosed){var t=C.filter((function(t){return t.id!==e.id}));w(t)}else w((function(){return[].concat(Object(p.a)(C),[e])}));var n=x.map((function(t){return t.id===e.id&&(t.choosed=!e.choosed),t}));v(n)},S=function(){var t=Object(f.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCharacter(n);case 2:return a=t.sent,v(P(a.results)),j(!1),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(f.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAllCharacters(n);case 2:return a=t.sent,c({current:n,nextPage:a.next,prevPage:a.previous}),v(P(a.results)),j(!1),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(e){return e.map((function(e){var t=e.url.match(/(\d+)/),n="https://starwars-visualguide.com/assets/img/characters/".concat(t[0],".jpg");return e.id=t[0],e.img=n,e.choosed=function(e){var t=JSON.parse(localStorage.getItem("chars")),n=!1;return t&&0!==t.length&&t.forEach((function(t){t.id===e&&(n=!0)})),n}(t[0]),e}))},E=function(e){j(!0),y(e)},F=function(){return Object(l.jsxs)("div",{className:"text-center mt-2 pb-3",children:[r.prevPage?Object(l.jsx)(_.a,{className:"mr-1",onClick:function(){return E(r.current-1)},variant:"light",children:"Prev"}):"",r.nextPage?Object(l.jsx)(_.a,{onClick:function(){return E(r.current+1)},variant:"light",children:"Next"}):""]})};return u?Object(l.jsx)(T,{}):Object(l.jsx)("div",{className:B.a.page,children:Object(l.jsxs)(o.a,{className:"mt-4",children:[Object(l.jsx)(I.a,{inline:!0,children:Object(l.jsx)(J.a,{type:"text",placeholder:"Search",className:"mr-sm-2",onChange:function(e){var t;""!==(t=e.target.value)?S(t):y(r.current)}})}),F(),Object(l.jsx)("div",{className:B.a.chars_block,children:x.map((function(e,t){return Object(l.jsx)(A,{data:e,onChooseChar:N},t)}))}),F()]})})},D=n(72),H=function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("chars"))||[]),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)("All"),s=Object(O.a)(c,2),i=s[0],u=s[1];Object(a.useEffect)((function(){localStorage.setItem("chars",JSON.stringify(n))}),[n]);var j=function(e){if(e.choosed){var t=n.filter((function(t){return t.id!==e.id}));r(t)}};return n.length>0?Object(l.jsxs)(o.a,{className:"mt-4",children:[Object(l.jsxs)(D.a,{"aria-label":"Basic example",className:"mb-3",children:[Object(l.jsx)(_.a,{variant:"secondary",onClick:function(){return u("All")},children:"All"}),Object(l.jsx)(_.a,{variant:"secondary",onClick:function(){return u("male")},children:"Male"}),Object(l.jsx)(_.a,{variant:"secondary",onClick:function(){return u("female")},children:"Female"}),Object(l.jsx)(_.a,{variant:"secondary",onClick:function(){return u("n/a")},children:"n/a"})]}),Object(l.jsx)("div",{className:B.a.chars_block,children:n.map((function(e,t){return Object(l.jsx)(A,{data:e,del:!0,onChooseChar:j},t)})).filter((function(e){if(e.props.data.gender===i||"All"===i)return e}))})]}):Object(l.jsx)(o.a,{className:"mt-4",children:Object(l.jsx)("div",{style:{color:"white"},children:"Empty favorite lits"})})};document.body.style.backgroundColor="black";var Z=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(j,{}),Object(l.jsx)("main",{children:Object(l.jsxs)(h.c,{children:[Object(l.jsx)(h.a,{exact:!0,path:"/",children:Object(l.jsx)(R,{})}),Object(l.jsx)(h.a,{path:"/favorite",component:H})]})})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(67);c.a.render(Object(l.jsx)(u.a,{children:Object(l.jsx)(Z,{})}),document.getElementById("root")),M()}},[[68,1,2]]]);
//# sourceMappingURL=main.5ee570d8.chunk.js.map